<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
   <title>وبلاگ وحید باقی</title>
   <style>
       body {
           font-family: Vazirmatn, sans-serif;
           line-height: 1.6;
           max-width: 900px;
           margin: 0 auto;
           padding: 20px;
           background-color: #f7f7f7;
       }

.notebook-container {
       background: white;
       border: 1px solid #e1e4e8;
       border-radius: 4px;
       box-shadow: 0 1px 3px rgba(0,0,0,0.12);
   }

   .header {
       padding: 20px;
       border-bottom: 1px solid #e1e4e8;
       background-color: #f6f8fa;
   }

   .post-title {
       font-size: 2em;
       margin: 0;
       color: #24292e;
   }

   .post-meta {
       color: #586069;
       font-size: 0.9em;
       margin-top: 10px;
   }

   .featured-image {
       width: 100%;
       max-height: 400px;
       object-fit: cover;
   }

   .content {
       padding: 20px;
   }

   .cell {
       margin: 20px 0;
       padding: 10px;
       border-radius: 3px;
       background-color: #f8f9fa;
       text-align: right;
   }

   code {
       background-color: #f6f8fa;
       padding: 2px 5px;
       border-radius: 3px;
       font-family: Monaco, Consolas, monospace;
   }

   .link-center {
       text-align: center;
   }
   
   
   .wp-block-image {
       text-align: center; 
   }

   .wp-block-image img {
       max-width: 100%; 
       height: auto; 
       display: block; 
       margin-left: auto;
       margin-right: auto;
   }
   .has-text-align-center{
    text-align: center;
   }
   
   .cell pre {
  word-break: break-all;
  overflow-wrap: break-word; 
  overflow-x: auto; 
}

   </style>
</head>
<body>
   <div class="notebook-container">
       <article class="main-article post-594 post type-post status-publish format-standard has-post-thumbnail hentry category-1 category-40">       
       <header class="header">
           <h1 class="post-title">کرال پشت در متن آهنگ های فارسی!</h1>
           <div class="post-meta">
               <span class="date">۱۴۰۰/۱۲/۲۵</span>
           </div>
       </header>

<section class="content">
           
  <div class="cell">
  <p>در پست قبلی تحلیلی بر روی اشعار فارسی موجود در <a href="https://ganjoor.net/" target="_blank" rel="noreferrer noopener">وبسایت گنجور</a> انجام دادم. برام جالب بود که این تحلیل رو برای متن آهنگ های فارسی هم انجام بدم. اول کمی گشتم تا ببینم چنین دیتاستی وجود داره یا نه. نتیجه این جستجو ها وبسایت های زیر بود :</p>
  </div>
  <div class="cell">
      <pre class="has-text-align-center">https://mustext.net</pre>
  </div>
  <div class="cell">
      <pre class="has-text-align-center">https://lyricstranslate.com/en/language/persian-lyrics</pre>
  </div>
  <div class="cell">
      <pre class="has-text-align-center">https://www.radiojavan.com/https://t.me/melobot</pre>
  </div>
  <div class="cell">
    <p>تعداد آهنگ های mustext حدودا ۴ هزار تا بود که برای من راضی کننده نبود. تعداد آهنگ های lyricstranslat هم ۱۳ هزار تا بود که عدد قابل توجهی هست. بعضی از دوستان سایت رادیو جوان رو پیشنهاد دادند که تا جایی که بررسی کردم در نسخه دسکتاپش میشه به متن برخی از اشعار دسترسی داشت. میتونستم با برنامه Burp Suite ترافیک برنامه رو بررسی کنم و متن اشعار رو استخراج کنم ولی وقتی melobot هست چه کاریه حالا!ابتدا به ادمین ملوبات پیام دادم که امکانش هست دیتابیس متن آهنگ ها رو در اختیار من قرار بدن؟ که پاسخشون منفی بود. بعد پرسیدم که میتونم خودم از طریق بات جمع آوری کنم؟ که گفتند مشکلی نداره. چالشی که اینجا وجود داشت این بود که شما باید عنوان آهنگ رو برای بات بفرستید و بعد گزینه متن آهنگ رو انتخاب کنید که متن رو براتون بفرسته :</p>
  </div>
  <div class="cell">
        <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-1.png" alt=""></figure>
        </div>
   </div>
   <div class="cell">
        <p>خب متن عنوان آهنگ ها رو نداشتم. اما اگر اسم خواننده رو ارسال کنید، لیست تمام آهنگ هایی که ازش وجود داره رو برمیگردونه :</p>
  </div>
    <div class="cell">
        <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-2.png" alt=""></figure>
        </div>
   </div>
     <div class="cell">
        <p>حالا به یه لیست از اسامی خواننده ها نیاز دارم! با کمی جستجو به وبسایت زیر رسیدم که یه لیست تقریبا کاملی از خواننده ها (1463 تا) داره :</p>
   </div>
   <div class="cell">
      <pre class="has-text-align-center">https://www.balmusic.ir/AllSingers</pre>
  </div>
   <div class="cell">
        <p>ابتدا این لیست رو استخراج کردم و اسامی رو برای ربات ارسال میکردم و دکمه هایی که ایموجی ? داشتند رو ذخیره کردم. بعد متوجه شدم این لیست کامل نیست و یه تعدادی از خواننده ها رو نداره. از ویکی‌پدیا هم کمک گرفتم :</p>
   </div>
   <div class="cell">
      <pre class="has-text-align-center">https://fa.wikipedia.org/wiki/%D9%81%D9%87%D8%B1%D8%B3%D8%AA_%D8%AE%D9%88%D8%A7%D9%86%D9%86%D8%AF%DA%AF%D8%A7%D9%86_%D8%A7%DB%8C%D8%B1%D8%A7%D9%86%DB%8C</pre>
  </div>
    <div class="cell">
        <p>در نهایت اسم ۴۳۸۰ خواننده رو از ربات کشیدم بیرون! در مرحله بعدی تک به تک اسم خواننده ها رو برای ربات ارسال کردم و اسم آهنگ هاشون رو استخراج کردم. در مرحله آخر هم اسم آهنگ ها رو برای ربات ارسال کردم و متن آهنگ رو کشیدم بیرون! دیتاست رو در آدرس زیر قرار دادم :</p>
   </div>
    <div class="cell">
      <pre class="has-text-align-center">https://www.kaggle.com/johntukey/persian-lyrics </pre>
   </div>
    <div class="cell">
        <p>این دیتاست شامل ۴۸۴۸۸ آهنگ از ۴۳۸۰ خواننده است. البته همه این ۴۸ هزار آهنگ متن ندارند و حدودا ۲۵ هزار تا از آهنگ ها متن دارند. این دیتاست هم میتونه تکمیل تر بشه. مثلا میتونم اطلاعات lyricstranslate رو هم با این دیتاست ادغام کنم. خب حالا بریم سراغ یه سری تحلیل ساده!</p>
   </div>
   <div class="cell">
         <p><strong>ابر کلمات متن آهنگ ها</strong></p>
    </div>
   <div class="cell">
    <div class="wp-block-image">
        <figure class="aligncenter"><img decoding="async" src="images/16-3.jpg" alt=""></figure>
    </div>
   </div>
    <div class="cell">
        <p>نکته جالش اینه که با ابر کلمات اشعار فارسی (گنجور) هم خیلی اشتراک داره :</p>
    </div>
    <div class="cell">
         <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-4.jpg" alt=""></figure>
         </div>
    </div>
    <div class="cell">
        <p>اگر کلمات توقف رو حذف نکنیم، ابر کلمات متن آهنگ های فارسی به صورت زیر میشه :</p>
    </div>
    <div class="cell">
        <div class="wp-block-image">
           <figure class="aligncenter"><img decoding="async" src="images/16-5.jpg" alt=""></figure>
        </div>
    </div>
    <div class="cell">
       <hr class="wp-block-separator has-css-opacity">
    </div>
    <div class="cell">
       <p><strong>چه سالی بیشترین تعداد آهنگ منتشر شده است؟</strong>نمودار زیر تعداد آهنگ های منتشر شده در سال های مختلف را نشان می‌دهد :</p>
    </div>
     <div class="cell">
         <div class="wp-block-image">
           <figure class="aligncenter"><img decoding="async" src="images/16-6.jpg" alt=""></figure>
         </div>
    </div>
   <div class="cell">
        <p>بر اساس این نمودار، بیشترین تعداد آهنگ در سال ۲۰۱۴ (۴۱۰۸ عدد) منتشر شده است.<strong>کدام آهنگ ها بیشترین تعداد دانلود را داشته اند؟</strong>۵ تا از آهنگ هایی که بیشترین تعداد دانلود رو داشتند عبارتند از :</p>
    </div>
    <div class="cell">
        <ul class="wp-block-list">
            <li>آهنگ تولد از اندی (Andy, Tavalod) – ۳۴ میلیون و ۴۰۰ هزار دانلود</li>
        </ul>
    </div>
    <div class="cell">
         <div class="wp-block-image">
           <figure class="aligncenter"><img decoding="async" src="images/16-7.jpg" alt=""></figure>
        </div>
    </div>
    <div class="cell">
        <ul class="wp-block-list">
            <li>آهنگ دیوانه از رضا بهرام – ۲۴ میلیون و ۶۰۰ هزار دانلود</li>
        </ul>
    </div>
    <div class="cell">
        <div class="wp-block-image">
             <figure class="aligncenter"><img decoding="async" src="images/16-8.jpg" alt=""></figure>
        </div>
    </div>
    <div class="cell">
        <ul class="wp-block-list">
            <li>آهنگ نوازش از امیر تتلو – ۲۲ میلیون ۸۰۰ هزار دانلود</li>
        </ul>
    </div>
    <div class="cell">
        <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-9.jpg" alt=""></figure>
         </div>
     </div>
     <div class="cell">
        <ul class="wp-block-list">
           <li>آهنگ عاشقم کرده از بهنام بانی – ۲۰ میلیون ۷۰۰ هزار دانلود</li>
        </ul>
     </div>
     <div class="cell">
        <div class="wp-block-image">
          <figure class="aligncenter"><img decoding="async" src="images/16-10.jpg" alt=""></figure>
       </div>
     </div>
    <div class="cell">
         <ul class="wp-block-list">
            <li>آهنگ گل عشق از رضا بهرام – ۲۰ میلیون و ۱۰۰ هزار دانلود</li>
         </ul>
    </div>
    <div class="cell">
         <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-11.jpg" alt=""></figure>
        </div>
    </div>
    <div class="cell">
        <p>لیست کامل رو در لینک زیر قرار دادم</p>
    </div>
    <div class="cell">
        <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://gist.github.com/vahidbaghi/63a657ee76aa0e021e86b8cbe1ec5c0f" target="_blank">https://gist.github.com/vahidbaghi/63a657ee76aa0e021e86b8cbe1ec5c0f</a></pre>
    </div>
    <div class="cell">
       <hr class="wp-block-separator has-css-opacity">
    </div>
    <div class="cell">
        <p><strong>آهنگ های کدام خواننده بیشترین تعداد دانلود را داشته است؟</strong></p>
    </div>
    <div class="cell">
        <p>امیر تتلو – ۶۱۶ میلیون و ۵۹۸ هزار دانلود</p>
    </div>
    <div class="cell">
        <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-12.jpg" alt=""></figure>
        </div>
    </div>
    <div class="cell">
        <p>شادمهر عقیلی – ۲۸۱ میلیون و ۷۹۸ هزار و ۴۰۰</p>
    </div>
    <div class="cell">
        <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-13.jpg" alt=""></figure>
         </div>
    </div>
    <div class="cell">
        <p>محسن ابراهیم زاده – ۲۷۰ میلیون و ۵۵ هزار و ۱۰۰</p>
    </div>
    <div class="cell">
        <div class="wp-block-image">
          <figure class="aligncenter"><img decoding="async" src="images/16-14.jpg" alt=""></figure>
         </div>
    </div>
    <div class="cell">
        <p>لیست کامل رو در لینک زیر قرار دادم </p>
    </div>
    <div class="cell">
       <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://gist.github.com/vahidbaghi/0b81c9d027972692c8666668699cdf0d" target="_blank">https://gist.github.com/vahidbaghi/0b81c9d027972692c8666668699cdf0d</a></pre>
   </div>
   <div class="cell">
        <hr class="wp-block-separator has-css-opacity">
   </div>
   <div class="cell">
        <p><strong>متن آهنگ هر یک از خواننده ها با سایر خواننده ها چقدر اشتراک دارد؟</strong></p>
    </div>
   <div class="cell">
       <p>برای پاسخ به این سوال اومدم دایره لغات هر خواننده رو استخراج کردم. بعد اشتراک دایره لغات رو با سایر خواننده ها به دست آوردم و برای هر خواننده، نمودار دایره‌ای ۱۰ نفری که بیشترین اشتراک رو باهاشون داشتند رو رسم کردم. برای نمونه، این نمودار رو برای امیر تتلو، محسن ابراهیم زاده و شادمهر عقیلی رسم کردم :</p>
    </div>
    <div class="cell">
         <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-15.png" alt=""></figure>
        </div>
    </div>
     <div class="cell">
         <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-16.png" alt=""></figure>
        </div>
    </div>
    <div class="cell">
         <div class="wp-block-image">
            <figure class="aligncenter"><img decoding="async" src="images/16-17.png" alt=""></figure>
        </div>
    </div>
    <div class="cell">
         <p>لیست کامل تصاویر رو در لینک زیر قرار دادم :</p>
    </div>
    <div class="cell">
      <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://storage.vahidbaghi.ir/singer_piechart/" target="_blank">https://storage.vahidbaghi.ir/singer_piechart</a></pre>
   </div>
   <div class="cell">
        <hr class="wp-block-separator has-css-opacity">
   </div>
    <div class="cell">
        <p><strong>کدام یک از نام های ایرانی در متن آهنگ ها پرتکرار بوده اند؟</strong></p>
    </div>
    <div class="cell">
         <div class="wp-block-image">
           <figure class="aligncenter"><img decoding="async" src="images/16-18.jpg" alt=""></figure>
       </div>
    </div>
    <div class="cell">
         <p>لیست کامل رو در لینک زیر قرار دادم :</p>
    </div>
     <div class="cell">
        <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://gist.github.com/vahidbaghi/906ca99f9166b2fe937213ebfb4ee846" target="_blank">https://gist.github.com/vahidbaghi/906ca99f9166b2fe937213ebfb4ee846</a></pre>
    </div>
   <div class="cell">
        <p>الان میخوام بررسی کنم در اشعار کدامیک از خواننده ها بیشترین الفاظ رکیک به کار رفته. برای این منظور از مجموعه داده <a rel="noreferrer noopener" href="https://github.com/amirshnll/Persian-Swear-Words" target="_blank">Persian-Swear-Words</a> که مجموعه‌ای از الفاظ رکیک فارسی است استفاده میکنم. لیست زیر تعداد تکرار هر یک از این الفاظ رکیک رو در متن آهنگ های فارسی نشون میده ? :</p>
   </div>
   <div class="cell">
        <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://gist.github.com/vahidbaghi/77fa882f1b5070f5274f073d579e5df0" target="_blank">https://gist.github.com/vahidbaghi/77fa882f1b5070f5274f073d579e5df0</a></pre>
   </div>
  <div class="cell">
        <p>البته بعضی از الفاظ این لیست به خودی خود واقعا فحش نیستند. اگر در زمان و مکان خاصی استفاده بشن فحش محسوب میشن. در لیست زیر من تعداد فحش هایی که هر خواننده در اشعارش استفاده کرده رو قرار دادم. مقابل اسم هر خواننده هم فحش هایی که در اشعارش وجود داشته رو قرار دادم :</p>
   </div>
  <div class="cell">
        <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://gist.github.com/vahidbaghi/d8c831b4af8a41f3d0b680c952d4f406" target="_blank">https://gist.github.com/vahidbaghi/d8c831b4af8a41f3d0b680c952d4f406</a></pre>
    </div>
    <div class="cell">
        <p>همین کار رو برای نام های ایرانی هم انجام دادم. در لیست زیر می‌تونید ببینید هر خواننده کدامیک از نام های ایرانی رو در اشعارش مورد استفاده قرار داده :</p>
    </div>
    <div class="cell">
      <pre class="has-text-align-center"><a rel="noreferrer noopener" href="https://gist.github.com/vahidbaghi/aa1504d2cbce8eb3eada2d0b73df1704" target="_blank">https://gist.github.com/vahidbaghi/aa1504d2cbce8eb3eada2d0b73df1704</a></pre>
    </div>
    <div class="cell">
        <p>خیلی کار های دیگه هم میشه انجام داد. مثلا هیت مپ تعداد آهنگ هایی که در ماه های مختلف و روز های مختلف سال منتشر شده رو تولید کرد و …اگر نمودار دیگه‌ای براتون جالبه در کامنت ها بگید تا در اولین فرصت اضافه کنم.</p>
    </div>
   
       </section>
   </article>

   </div>
</body>
</html>
